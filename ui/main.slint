import { Slider, HorizontalBox, VerticalBox, GroupBox, ComboBox, ScrollView, LineEdit, Button, StyleMetrics } from "std-widgets.slint";
import { ThemedButton } from "themed-button.slint";
import { SearchBar } from "searchbar.slint";

export component MainWindow inherits Window {
    title: "Test";
    preferred-width: 800px;
    preferred-height: 600px;
	default-font-size: 18px;

	in-out property <string> location;
	in-out property <string> search_style;

	// in-out property <string> directory_from_search <=> Search.location;

	// callback click_button_cb <=> png_btn.png_button_pointer_event;

	in property <[image]> images;
	in-out property <length> images_scroll_height;

    VerticalLayout {
		padding: 0px;
		spacing: 0px;
		width: 100%;
		height: 100%;

		// Search bar
		Rectangle {
			height: 10%;

			SearchBar {
				width: 100%;
				location <=> location;
				search_style <=> search_style;
			}
		}

		// Double Split
		HorizontalBox {
			padding: 0px;
			spacing: 0px;
			alignment: stretch;

			GridLayout {
				width: 20%;
				spacing-vertical: StyleMetrics.layout-spacing;
				padding-left: StyleMetrics.layout-padding;
				padding-right: StyleMetrics.layout-padding;

				// background: yellow;
				Button {
					text: "General (Autostart, etc.)";
					col: 1;
					row: 1;
					// horizontal-stretch: 100;
					// vertical-stretch: 0;
				}
				Button {
					text: "Image directories";
					col: 1;
					row: 2;
					// horizontal-stretch: 0;
					// vertical-stretch: 0;
				}
				Button {
					text: "Edit names/tags";
					col: 1;
					row: 3;
					// horizontal-stretch: 0;
					// vertical-stretch: 0;
				}
				Button {
					text: "Hotkeys";
					col: 1;
					row: 4;
					// horizontal-stretch: 0;
					// vertical-stretch: 0;
				}
				Rectangle {
					col: 1;
					row: 5;
					height: 100%;
				}
			}

			Rectangle {
				width: 40%;
				background: blue;
			}

			Rectangle {
				width: 40%;
				background: green;

				ScrollView {
					viewport-height <=> images_scroll_height;

					VerticalLayout {
						spacing: 8px;
						height: 100%;
						for image in images : Image {
							source: image;
							height: 128px;
							width: 128px;
						}
					}
				}
			}
		}
	}
}
